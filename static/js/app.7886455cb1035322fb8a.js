webpackJsonp([1],{JRCe:function(e,t){},NHnr:function(e,t,a){"use strict";function s(e){a("JRCe")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i=a("3EgV"),r=a.n(i),l=(a("QCv7"),{data:function(){return{snackbar:!1,notification:"",searchInput:""}},created:function(){this.$store.dispatch("addTermList")},methods:{showNotification:function(e){this.notification=e,this.snackbar=!0},searchTerm:function(){if(""===this.searchInput)return null;var e=this.$store.getters.searchForTerm(this.searchInput);if(0===e.length)return this.showNotification("Otsing ei andnud tulemusi."),null;1===e.length?(this.$router.push({name:"Term",params:{slug:e[0].slug}}),this.$store.dispatch("addTerm",e[0].slug)):e.length>1&&(this.$store.dispatch("addSearchResults",e),this.$router.push({name:"SearchResults"})),this.searchInput=""}}}),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-toolbar",{attrs:{dense:""}},[a("v-btn",{staticClass:"hidden-sm-and-up",attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.rightDrawer=!e.rightDrawer}}},[a("v-icon",[e._v("menu")])],1),e._v(" "),a("v-toolbar-title",{staticClass:"hidden-xs-only"},[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[e._v("Paali-Eesti sõnaraamat")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-text-field",{attrs:{"hide-details":"","single-line":"",label:"Otsi"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchTerm(t)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("v-btn",{attrs:{flat:""},on:{click:e.searchTerm}},[a("v-icon",[e._v("search")])],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{timeout:3e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.notification)+"\n    "),a("v-btn",{attrs:{flat:"",color:"pink"},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Sulge")])],1),e._v(" "),a("router-view")],1)},u=[],m={render:o,staticRenderFns:u},c=m,d=a("VU/8"),v=d(l,c,!1,null,null,null),h=v.exports,f=a("/ocq"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{staticClass:"mt-4",attrs:{row:""}},[a("v-flex",{staticClass:"text-xs-center"},[a("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/d/df/Dharma_Wheel.svg",width:"150"}})])],1),e._v(" "),a("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center"},[a("p",{staticClass:"intro"},[e._v("Budistliku õpetuse edasiandmiseks loodud mahukas tekstikorpus kätkeb endas keerukat terminoloogiat, mille tõlkimine\n            emakeelde on läbi aegade olnud oluliseks sammuks Buddha õpetuse juurdumisel kohalikus kultuuriruumis.\n            Käesolev sõnaraamat on mõeldud nii budistliku kirjanduse lugejatele kui tõlkijatele, aidates leida\n            terminitele selgitusi ja tõlkevasteid ning panustades ühtse eestikeelse terminoloogia väljakujunemisse.")])])],1),e._v(" "),a("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center text-sm-right"},[a("v-btn",{attrs:{to:"/kasutajale"}},[e._v("Teave kasutajale")])],1),e._v(" "),a("v-flex",{staticClass:"text-xs-center text-sm-left"},[a("v-btn",{attrs:{to:"/"}},[e._v("Teine nupp")])],1)],1)],1)},_=[],k={render:p,staticRenderFns:_},g=k,x=a("VU/8"),b=s,T=x(null,g,!1,b,"data-v-0bb568de",null),C=T.exports,w={data:function(){return{author:"",email:"",content:""}},props:["slug"],computed:{term:function(){return this.$store.getters.loadedTerm},formIsValid:function(){return""!==this.name&&""!==this.email&&""!==this.message}},created:function(){this.$store.dispatch("addTerm",this.slug)},methods:{addComment:function(){var e={term:this.term.id,author:this.author,email:this.email,content:this.content,timestamp:new Date};this.$store.dispatch("addComment",e),this.author="",this.email="",this.content=""}}},y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("v-flex",[a("h1",[a("i",[e._v(e._s(e.term.pali))])]),e._v(" "),a("p",[e.term.wordClass||e.term.gender?[e._v("("+e._s(e.term.wordClass)+", "+e._s(e.term.gender)+") ")]:e._e()],2)])],1),e._v(" "),e._l(e.term.meaning_set,function(t,s){return a("v-layout",{key:s,staticClass:"mt-3"},[a("v-flex",[a("h3",[e._v(e._s(s+1)+". "+e._s(t.est)+" ["+e._s(t.rootLang)+" "),a("i",[e._v(e._s(t.root))]),e._v(" ("+e._s(t.rootDescription)+")]")]),e._v(" "),a("p",[e._v("eng "+e._s(t.eng))]),e._v(" "),a("p",[e._v(e._s(t.expl))]),e._v(" "),a("v-expansion-panel",[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("Täpsemalt")]),e._v(" "),a("v-card",[a("v-card-text",{staticClass:"grey lighten-4"},[a("p",[e._v(e._s(t.further))]),e._v(" "),a("h4",[e._v("Tõlkenäited:")]),e._v(" "),a("div",e._l(t.example_set,function(t){return a("p",{key:t.original},[a("i",[e._v(e._s(t.original))]),a("br"),e._v("\n                                    "+e._s(t.translation)+"\n                                ")])}))])],1)],1)],1)],1)],1)}),e._v(" "),a("hr",{staticClass:"mt-4"}),e._v(" "),e._l(e.term.comment_set,function(t,s){return 1==t.approved||t.preview?a("div",{key:"c"+s,staticClass:"mt-2"},[a("p",[t.preview?[e._v("See kommentar on hetkel nähtav ainult Sinule ja ootab haldaja kinnitamist."),a("br")]:e._e(),e._v(" "),a("b",[e._v(e._s(t.author)+":")]),e._v(" "+e._s(t.content)),a("br"),e._v(e._s(e._f("date")(t.timestamp)))],2)]):e._e()}),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{"mt-3":""}},[a("v-flex",[a("h3",[e._v("Lisa uus kommentar")])])],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{name:"name",label:"Nimi",id:"name",required:""},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{name:"email",label:"E-mail (ei kuvata avalikult)",id:"email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{name:"message",label:"Sõnum",id:"message",required:"","multi-line":""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),e._v(" "),a("v-layout",[a("v-flex",[a("v-btn",{attrs:{disabled:!e.formIsValid},nativeOn:{click:function(t){e.addComment(t)}}},[e._v("Lisa kommentaar")])],1)],1)],2)},L=[],R={render:y,staticRenderFns:L},F=R,S=a("VU/8"),$=S(w,F,!1,null,null,null),j=$.exports,E={computed:{terms:function(){return this.$store.getters.termList}}},I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("ul",e._l(e.terms,function(t){return a("li",{key:t.id},[a("router-link",{attrs:{to:"/terminid/"+t.pali}},[e._v(e._s(t.pali))])],1)}))])},V=[],q={render:I,staticRenderFns:V},A=q,N=a("VU/8"),O=N(E,A,!1,null,null,null),D=O.exports,U=a("mtWM"),H=a.n(U),P={data:function(){return{name:"",email:"",title:"",message:""}},computed:{formIsValid:function(){return""!==this.name&&""!==this.email&&""!==this.message}},methods:{addLetterToAdmin:function(){var e={name:this.name,email:this.email,title:this.title,message:this.message};H.a.post("http://127.0.0.1:8000/api/letter-to-admin/",e)}}},B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h2",[e._v("Kirjuta lehe haldajale")])])],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"name",label:"Nimi",id:"name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"email",label:"E-mail",id:"email",type:"email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"title",label:"Pealkiri",id:"title",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"message",label:"Sõnum",id:"message",required:"","multi-line":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-btn",{attrs:{disabled:!e.formIsValid},on:{click:e.addLetterToAdmin}},[e._v("Saada")])],1)],1)],1)},J=[],W={render:B,staticRenderFns:J},K=W,M=a("VU/8"),Q=M(P,K,!1,null,null,null),X=Q.exports,Y={data:function(){return{}},computed:{results:function(){return this.$store.getters.searchResults}}},z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("v-flex",[a("h2",[e._v("Sinu otsingusõnaga andis mitu vastet")])])],1),e._v(" "),a("v-flex",[a("ul",e._l(e.results,function(t){return a("li",{key:t.id},[a("router-link",{attrs:{to:"/terminid/"+t.slug}},[e._v("pl: "),a("i",[e._v(e._s(t.pali))]),e._v("; est: "+e._s(t.est)+";")])],1)}))]),e._v(" "),a("v-layout")],1)},G=[],Z={render:z,staticRenderFns:G},ee=Z,te=a("VU/8"),ae=te(Y,ee,!1,null,null,null),se=ae.exports;n.a.use(f.a);var ne=new f.a({routes:[{path:"/",name:"Home",component:C},{path:"/terminid/:slug",props:!0,name:"Term",component:j},{path:"/otsing/",props:!0,name:"SearchResults",component:se},{path:"/kiri-haldajale",name:"LetterToAdmin",component:X},{path:"/loetelu",name:"TermList",component:D}]}),ie=a("c/Tr"),re=a.n(ie),le=a("lHA8"),oe=a.n(le),ue=a("NYxO"),me=a("lbHh"),ce=a.n(me);n.a.use(ue.a);var de=new ue.a.Store({state:{loadedTermList:[],loadedTerm:{},searchResults:[]},mutations:{addTermList:function(e,t){e.loadedTermList=e.loadedTermList.concat(t)},addTerm:function(e,t){e.loadedTerm=t},addSearchResults:function(e,t){e.searchResults=t},addComment:function(e,t){e.loadedTerm.comment_set.push(t)}},actions:{addTermList:function(e){var t=e.commit;H.a.get("/api/term-list/").then(function(e){t("addTermList",e.data)}).catch(function(e){console.log(e)})},addTerm:function(e,t){var a=e.commit;H.a.get("/api/single-term/"+t+"/").then(function(e){a("addTerm",e.data)}).catch(function(e){console.log(e)})},addSearchResults:function(e,t){(0,e.commit)("addSearchResults",t)},addComment:function(e,t){var a=e.commit,s=ce.a.get("csrftoken"),n=s?{headers:{"X-CSRFToken":s}}:null;H.a.post("/api/term-comment/",t,n),t.preview=!0,a("addComment",t)}},getters:{loadedTerm:function(e){return e.loadedTerm},searchForTerm:function(e){return function(t){var a=new oe.a;return e.loadedTermList.forEach(function(e){e.pali.toLowerCase().includes(t.toLowerCase())&&a.add(e),e.meaning_set.forEach(function(s){s.est.toLowerCase().includes(t.toLowerCase())&&a.add(e),s.eng.toLowerCase().includes(t.toLowerCase())&&a.add(e)})}),re()(a)}},searchResults:function(e){return e.searchResults},termList:function(e){return e.loadedTermList}}}),ve=function(e){return new Date(e).toLocaleString("et-ee",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};n.a.filter("date",ve),n.a.use(r.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),n.a.config.productionTip=!1,new n.a({el:"#app",router:ne,store:de,template:"<App/>",components:{App:h}})},QCv7:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7886455cb1035322fb8a.js.map