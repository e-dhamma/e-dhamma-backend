webpackJsonp([1],{JRCe:function(t,e){},NHnr:function(t,e,a){"use strict";function s(t){a("JRCe")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("3EgV"),r=a.n(i),l=(a("QCv7"),{data:function(){return{snackbar:!1,notification:"",searchInput:""}},created:function(){this.$store.dispatch("addTermList")},methods:{showNotification:function(t){this.notification=t,this.snackbar=!0},searchTerm:function(){if(""===this.searchInput)return null;var t=this.$store.getters.searchForTerm(this.searchInput);if(0===t.length)return this.showNotification("Otsing ei andnud tulemusi."),null;1===t.length?(this.$router.push({name:"Term",params:{slug:t[0].slug}}),this.$store.dispatch("addTerm",t[0].slug)):t.length>1&&(this.$store.dispatch("addSearchResults",t),this.$router.push({name:"SearchResults"})),this.searchInput=""}}}),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{dense:""}},[a("v-btn",{staticClass:"hidden-sm-and-up",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.rightDrawer=!t.rightDrawer}}},[a("v-icon",[t._v("menu")])],1),t._v(" "),a("v-toolbar-title",{staticClass:"hidden-xs-only"},[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("Paali-Eesti sõnaraamat")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-text-field",{attrs:{"hide-details":"","single-line":"",label:"Otsi"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchTerm(e)}},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),t._v(" "),a("v-btn",{attrs:{flat:""},on:{click:t.searchTerm}},[a("v-icon",[t._v("search")])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:3e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.notification)+"\n    "),a("v-btn",{attrs:{flat:"",color:"pink"},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Sulge")])],1),t._v(" "),a("router-view")],1)},u=[],m={render:o,staticRenderFns:u},c=m,d=a("VU/8"),v=d(l,c,!1,null,null,null),h=v.exports,f=a("/ocq"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{staticClass:"mt-4",attrs:{row:""}},[a("v-flex",{staticClass:"text-xs-center"},[a("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/d/df/Dharma_Wheel.svg",width:"150"}})])],1),t._v(" "),a("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center"},[a("p",{staticClass:"intro"},[t._v("Budistliku õpetuse edasiandmiseks loodud mahukas tekstikorpus kätkeb endas keerukat terminoloogiat, mille tõlkimine\n            emakeelde on läbi aegade olnud oluliseks sammuks Buddha õpetuse juurdumisel kohalikus kultuuriruumis.\n            Käesolev sõnaraamat on mõeldud nii budistliku kirjanduse lugejatele kui tõlkijatele, aidates leida\n            terminitele selgitusi ja tõlkevasteid ning panustades ühtse eestikeelse terminoloogia väljakujunemisse.")])])],1),t._v(" "),a("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center text-sm-right"},[a("v-btn",{attrs:{to:"/kasutajale"}},[t._v("Teave kasutajale")])],1),t._v(" "),a("v-flex",{staticClass:"text-xs-center text-sm-left"},[a("v-btn",{attrs:{to:"/"}},[t._v("Teine nupp")])],1)],1)],1)},_=[],g={render:p,staticRenderFns:_},k=g,x=a("VU/8"),b=s,T=x(null,k,!1,b,"data-v-0bb568de",null),C=T.exports,y={data:function(){return{author:"",email:"",content:""}},props:["slug"],computed:{term:function(){return this.$store.getters.loadedTerm},formIsValid:function(){return""!==this.name&&""!==this.email&&""!==this.message}},created:function(){this.$store.dispatch("addTerm",this.slug)},methods:{addComment:function(){var t={term:this.term.id,author:this.author,email:this.email,content:this.content,timestamp:new Date};this.$store.dispatch("addComment",t),this.author="",this.email="",this.content=""}}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",[a("h1",[a("i",[t._v(t._s(t.term.pali))])]),t._v(" "),a("p",[t.term.wordClass||t.term.gender?[t._v("("+t._s(t.term.wordClass)+", "+t._s(t.term.gender)+") ")]:t._e()],2)])],1),t._v(" "),t._l(t.term.meaning_set,function(e,s){return a("v-layout",{key:s,staticClass:"mt-3"},[a("v-flex",[a("h3",[t._v(t._s(s+1)+". "+t._s(e.est)+" ["+t._s(e.rootLang)+" "),a("i",[t._v(t._s(e.root))]),t._v(" ("+t._s(e.rootDescription)+")]")]),t._v(" "),a("p",[t._v("eng "+t._s(e.eng))]),t._v(" "),a("p",[t._v(t._s(e.expl))]),t._v(" "),a("v-expansion-panel",[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Täpsemalt")]),t._v(" "),a("v-card",[a("v-card-text",{staticClass:"grey lighten-4"},[a("p",[t._v(t._s(e.further))]),t._v(" "),a("h4",[t._v("Tõlkenäited:")]),t._v(" "),a("div",t._l(e.example_set,function(e){return a("p",{key:e.original},[a("i",[t._v(t._s(e.original))]),a("br"),t._v("\n                                    "+t._s(e.translation)+"\n                                ")])}))])],1)],1)],1)],1)],1)}),t._v(" "),a("hr",{staticClass:"mt-4"}),t._v(" "),t._l(t.term.comment_set,function(e,s){return a("div",{key:"c"+s,staticClass:"mt-2"},[a("p",[e.notApproved?[t._v("See kommentar on hetkel nähtav ainult Sinule ja ootab haldaja kinnitamist."),a("br")]:t._e(),t._v(" "),a("b",[t._v(t._s(e.author)+":")]),t._v(" "+t._s(e.content)),a("br"),t._v(t._s(t._f("date")(e.timestamp)))],2)])}),t._v(" "),a("hr"),t._v(" "),a("v-layout",{attrs:{"mt-3":""}},[a("v-flex",[a("h3",[t._v("Lisa uus kommentar")])])],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{name:"name",label:"Nimi",id:"name",required:""},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{name:"email",label:"E-mail (ei kuvata avalikult)",id:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{name:"message",label:"Sõnum",id:"message",required:"","multi-line":""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",[a("v-btn",{attrs:{disabled:!t.formIsValid},nativeOn:{click:function(e){t.addComment(e)}}},[t._v("Lisa kommentaar")])],1)],1)],2)},L=[],R={render:w,staticRenderFns:L},$=R,F=a("VU/8"),S=F(y,$,!1,null,null,null),j=S.exports,E={computed:{terms:function(){return this.$store.getters.termList}}},I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("ul",t._l(t.terms,function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:"/terminid/"+e.pali}},[t._v(t._s(e.pali))])],1)}))])},V=[],A={render:I,staticRenderFns:V},q=A,N=a("VU/8"),O=N(E,q,!1,null,null,null),D=O.exports,U=a("mtWM"),H=a.n(U),P={data:function(){return{name:"",email:"",title:"",message:""}},computed:{formIsValid:function(){return""!==this.name&&""!==this.email&&""!==this.message}},methods:{addLetterToAdmin:function(){var t={name:this.name,email:this.email,title:this.title,message:this.message};H.a.post("http://127.0.0.1:8000/api/letter-to-admin/",t)}}},B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h2",[t._v("Kirjuta lehe haldajale")])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"name",label:"Nimi",id:"name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"email",label:"E-mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"title",label:"Pealkiri",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"message",label:"Sõnum",id:"message",required:"","multi-line":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-btn",{attrs:{disabled:!t.formIsValid},on:{click:t.addLetterToAdmin}},[t._v("Saada")])],1)],1)],1)},J=[],W={render:B,staticRenderFns:J},K=W,M=a("VU/8"),Q=M(P,K,!1,null,null,null),Y=Q.exports,z={data:function(){return{}},computed:{results:function(){return this.$store.getters.searchResults}}},G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",[a("h2",[t._v("Sinu otsingusõnaga andis mitu vastet")])])],1),t._v(" "),a("v-flex",[a("ul",t._l(t.results,function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:"/terminid/"+e.slug}},[t._v("pl: "),a("i",[t._v(t._s(e.pali))]),t._v("; est: "+t._s(e.est)+";")])],1)}))]),t._v(" "),a("v-layout")],1)},X=[],Z={render:G,staticRenderFns:X},tt=Z,et=a("VU/8"),at=et(z,tt,!1,null,null,null),st=at.exports;n.a.use(f.a);var nt=new f.a({routes:[{path:"/",name:"Home",component:C},{path:"/terminid/:slug",props:!0,name:"Term",component:j},{path:"/otsing/",props:!0,name:"SearchResults",component:st},{path:"/kiri-haldajale",name:"LetterToAdmin",component:Y},{path:"/loetelu",name:"TermList",component:D}]}),it=a("c/Tr"),rt=a.n(it),lt=a("lHA8"),ot=a.n(lt),ut=a("NYxO"),mt="http://127.0.0.1:8000/api";n.a.use(ut.a);var ct=new ut.a.Store({state:{loadedTermList:[],loadedTerm:{},searchResults:[]},mutations:{addTermList:function(t,e){t.loadedTermList=t.loadedTermList.concat(e)},addTerm:function(t,e){t.loadedTerm=e},addSearchResults:function(t,e){t.searchResults=e},addComment:function(t,e){t.loadedTerm.comment_set.push(e)}},actions:{addTermList:function(t){var e=t.commit;H.a.get(mt+"/term-list/").then(function(t){e("addTermList",t.data)}).catch(function(t){console.log(t)})},addTerm:function(t,e){var a=t.commit;H.a.get(mt+"/single-term/"+e+"/").then(function(t){a("addTerm",t.data)}).catch(function(t){console.log(t)})},addSearchResults:function(t,e){(0,t.commit)("addSearchResults",e)},addComment:function(t,e){var a=t.commit;H.a.post(mt+"/term-comment/",e),e.notApproved=!0,a("addComment",e)}},getters:{loadedTerm:function(t){return t.loadedTerm},searchForTerm:function(t){return function(e){var a=new ot.a;return t.loadedTermList.forEach(function(t){t.pali.toLowerCase().includes(e.toLowerCase())&&a.add(t),t.meaning_set.forEach(function(s){s.est.toLowerCase().includes(e.toLowerCase())&&a.add(t),s.eng.toLowerCase().includes(e.toLowerCase())&&a.add(t)})}),rt()(a)}},searchResults:function(t){return t.searchResults},termList:function(t){return t.loadedTermList}}}),dt=function(t){return new Date(t).toLocaleString("et-ee",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};n.a.filter("date",dt),n.a.use(r.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),n.a.config.productionTip=!1,new n.a({el:"#app",router:nt,store:ct,template:"<App/>",components:{App:h}})},QCv7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2bed513da4ca528734a8.js.map